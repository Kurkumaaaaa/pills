@startuml
title Авторизация пациента

(*) --> "Начало"
--> "Отображение формы для входа"
--> "Ввод логина и пароля"

if "Все поля заполнены?" then
  -left->[нет] "Ошибка: Заполните все поля"
  -up-> "Отображение формы для входа"
else
  -right->[да] "Проверка учетных данных в БД"
  
  if "Данные верны?" then
    -down->[да] "Создание сессии"
    --> "Отображение главного экрана"
    --> (*)
  else
    -down->[нет] "Сообщение: Неверный пароль"
    
    if "Сбросить пароль?" then
      -right->[да] "Переход на форму восстановления"
      --> "Ввод телефона/email"
      --> "Отправка временного пароля"
      -left-> "Отображение формы для входа"
    else
      -left->[нет] "Отображение формы для входа"
    endif
  endif
endif

@enduml
